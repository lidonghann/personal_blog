<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>李东韩博客</title>
</head>
{% load static %}
<link rel="stylesheet" type="text/css" href="/static/mp3/css/normalize.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/static/mp3/css/search_demo.css">
<link rel="stylesheet" href="/static/mp3/css/search_style.css">
<link rel="stylesheet" type="text/css" href="/static/css/common.css"/>
<link rel="stylesheet" type="text/css" href="/static/css/moodList.css"/>
<link rel="stylesheet" href="/static/plugin/jquery.page.css">
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript" src="/static/plugin/jquery.page.js"></script>
<script src="/static/js/common.js"></script>
<script src="/static/js/heart.js"></script>


<body>
{% include "base.html" %}
<div class="w_container">
		<div class="container">
			<div class="row w_main_row">
				<ol class="breadcrumb w_breadcrumb">
				  <li><a href="#">首页</a></li>
				  <li class="active">新闻</li>
				  <span class="w_navbar_tip">一个人自以为刻骨铭心的回忆。别人也许早已经忘记了</span>
				</ol>
			<div class="bloglist">
                <div class="search d2">
                    <form action="/search_news/" method="get">
                        <input name="search_content" type="text" placeholder="请输入要查询的新闻关键字">
                        <button type="submit" id="search_video"></button>
                    </form>
                </div>
                {% block news %}
                {% endblock %}
				{% for new in news %}
			    <ul class="arrow_box">
			     <div class="sy">
                     <a href="{{ new.content}}"  target="_blank"><div id="{{ forloop.counter}}" style="display: flex;justify-content: space-between;align-items: center; position:relative;">{{ new.title }}</div></a>
			     </div>
			    </ul>
                {% endfor %}
            </div>
                <div >
                    <ul class="pagination">
                       <li class="pure-menu-item"><a href="?page=1" class="pure-menu-link">首页</a></li>
                       {% if news.has_previous %}
                           <li class="pure-menu-item"><a href="?page={{ news.previous_page_number }}" class="pure-menu-link">&laquo上一页</a></li>
                       {% endif %}
                           <li class="pure-menu-item"><span> {{ news.number }} / {{ news.paginator.num_pages }}</span></li>
                       {% if news.has_next %}
                           <li class="pure-menu-item"><a href="?page={{ news.next_page_number }}" class="pure-menu-link">下一页 &raquo</a></li>
                       {% endif %}
                       <li class="pure-menu-item"><a href="?page={{ news.paginator.num_pages }}" class="pure-menu-link">尾页</a></li>
                    </ul>
                </div>
			</div>
		</div>
	</div>
{#	<div class="w_foot">#}
{##}
{#	</div>#}
{#	<!--toTop-->#}
{#	<div id="shape">#}
{#		<div class="shapeColor">#}
{#			<div class="shapeFly">#}
{#			</div>#}
{#		</div>#}
{#	</div>#}
<script>
    var news_len = {{ len}}
    var search_content = "{{ search_content }}"
    $(document).ready(function () {
        console.log(news_len)
        for(var i=1; i<=news_len; i++){
            var news_str = $('#'+i).html()
            console.log(news_str)
            var replace_ = `<div style="color: red">`+search_content +`</div>`
            var new_re = news_str.replace(search_content, replace_)
            $('#'+i).html(new_re)
        }
    })
</script>
</body>
</html>